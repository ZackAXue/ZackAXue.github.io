<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>MyBlog</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/font-awesome.min.css" rel="stylesheet"><link href="/css/main.css" rel="stylesheet"><meta name="generator" content="Hexo 6.0.0"></head><body><div class="wrap"><nav class="page-navigation"><div class="nav-container"><div class="page-header-logo"><h1 class="prince-log"><a href="/" class="home-link">秋</a></h1></div><button type="button" data-toggle="collapse" data-target=".main-nav-items" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><ul class="collapse navbar-collapse main-nav-items"><li class="menu-item"><a href="/" target="_self">HOME</a></li><li class="menu-item"><a href="/archives/" target="_self">ARCHIVE</a></li><li class="menu-item"><a href="/about/" target="_self">ABOUT</a></li></ul></div></nav><main class="prince-container"><div class="post"><article class="post-block"><h1 class="post-title">写在22WN最后一个project完结之后</h1><div class="post-info">Apr 13th 2022</div><div class="post-entry"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>本周终于做完了 370，281 两门课的 Project4，虽然并没有如释重负的感觉（因为后面就是 Final），但还是有点小开心。这篇博文就总结一下这次的两个 p4。</p>
<h3 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h3><p>模拟一个简单的 Cache 运行，并且和 p1 写的 simulator 链接。需要考虑两种大情况，hit 和 miss，并且在 miss 时分类讨论是否有 empty block，难点应该是地址的转换。</p>
<h4 id="Debug-教训"><a href="#Debug-教训" class="headerlink" title="Debug 教训"></a>Debug 教训</h4><p>我写了一个比较离谱的 bug，if else 中都有 return，然后在 if else 结束之后写了一段对 LRU 的操作，如图：<br><img src="/images/370bug.png"><br>导致对 LRU 的操作没有执行。</p>
<h3 id="Pokemon"><a href="#Pokemon" class="headerlink" title="Pokemon"></a>Pokemon</h3><p>大概设定是你是一名宝可梦训练家，要收集齐所有宝可梦。从一些设定上看得出这个 Project 的作者应该是个资深的宝可梦的玩家，比如，二周目可以使用飞行（随意连接地图上的两个点），一周目如果要下海，必须先捕捉一只岸边的宝可梦获得冲浪技能。</p>
<p>PartA 本质上是写一个有限制的 MST，在搜寻目标点周围相邻点标记距离时增加一个 coast 和 sea 的判断（至少有一方在 coast 或两点都在 land），如果不符合则不标记两点之间的 d。MST 的本质是逐步选择和 SubGraph 最近的点并且逐步扩大 SubGraph，直到访问所有点。</p>
<p>PartB&amp;C 关于 TSP（traveling salesperson problem），即找到一条最优的路径访问所有点后并回到起始点构成一个环（Hamiltonian cycle）。</p>
<p>PartB 需要完成一个 FastTSP（TSP Heuristics） ，即更快的找到一条相对接近 Optimal TSP 的路径。我使用了 Arbitrary Insertion 的方法。</p>
<ol>
<li>随机选择第一个点 i</li>
<li>找到离 i 最近的第二个点 j，将路径设为 i -&gt; j -&gt; i。</li>
<li>对所有剩余的点进行循环，每次循环找到一个点加入当前的环（cost 最小），即遍历所有的 j 和 j-1 计算 (j -&gt; candidate -&gt; j-1) - (j -&gt; j-1) cost 最小时即为最优点。<br>*具体可见 281NotesC22Page37</li>
</ol>
<p>PartC 需要找到最优的 TSP，并尽可能优化算法，代码核心为 GenPerm（遍历所有可能的排列），为了尽可能增加效率，需要应用 Branch and Bound 的算法。那此时我们就需要考虑，如何得到算法需要的 upperBound 和 lowerBound？显然，upperBound 就是 PartB 的结果，lowerBound 的估计方法则是先找到两条 arm 一条从剩余点连接到 current path 的起始点，一条从剩余点连接到 current 的结尾点，并对剩余点计算 MST（minimum）。将 arm，current cost， MST 相加，结果极为 Lower Bound（在本问题可以视为最低 cost）。如下图所示：<br><img src="/images/281TSP.jpg"></p>
<h4 id="Debug-教训-1"><a href="#Debug-教训-1" class="headerlink" title="Debug 教训"></a>Debug 教训</h4><p><img src="/images/281bug.jpg"><br>我起初并没有用 tempDis 保存 distance，而是直接在 +&#x3D; 时调用 distancs[][]，但此时因为 swap，OPTpath[i]中的数据已经改变，+-的数据错误。</p>
</div><div class="post-tags-box"><a class="tag-link" href="/tags/Summary/" rel="tag">Summary</a></div></article></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache"><span class="toc-text">Cache</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Debug-%E6%95%99%E8%AE%AD"><span class="toc-text">Debug 教训</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pokemon"><span class="toc-text">Pokemon</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Debug-%E6%95%99%E8%AE%AD-1"><span class="toc-text">Debug 教训</span></a></li></ol></li></ol><div class="post-nav"><div class="prev-wrap col-md-6 col-xs-6"><i class="fa fa-angle-double-left"></i><a href="/2022/05/02/%E5%86%99%E5%9C%A822WN%E7%9A%84%E6%9C%80%E5%90%8E/" class="prev-post">写在22WN的最后</a></div><div class="next-wrap col-md-6 col-xs-6"><a href="/2022/04/08/LeetCode-Daily-Question-20/" class="next-post">LeetCode Daily Question 20</a><i class="fa fa-angle-double-right"></i></div></div></main></div><footer><div class="copyright"><p>Crafted with <i class="fa fa-heart"></i> by&nbsp;秋&nbsp;|&nbsp;<a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yiliashaw/hexo-theme-prince" target="_blank">Prince</a> by SHAW</p></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.0.47/jquery.fancybox.min.js"></script><script src="/js/script.js"></script></body></html>